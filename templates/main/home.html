{% extends "base.html" %}

{% block content %}
<h2>ÐœÐ¾Ð¸ Ð·Ð°Ð´Ð°Ñ‡Ð¸</h2>

<form method="post" class="row g-3 mb-4">
    {% csrf_token %}
    <div class="col-md-6">
        <input type="text" name="title" class="form-control" placeholder="ÐÐ¾Ð²Ð°Ñ Ð·Ð°Ð´Ð°Ñ‡Ð°" required>
    </div>
    <div class="col-md-4">
        <input type="datetime-local" name="due_date" class="form-control">
    </div>
    <div class="col-md-2">
        <button type="submit" class="btn btn-success w-100">Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ</button>
    </div>
</form>

<hr>

{% if tasks %}
    <div class="list-group">
        {% for task in tasks %}
            <div class="list-group-item d-flex justify-content-between align-items-center {% if task.is_completed %}list-group-item-secondary{% endif %}">
                <div>
                    <strong>{{ task.title }}</strong>
                    {% if task.due_date %}
                        <small class="text-muted">Ð´Ð¾ {{ task.due_date|date:"d.m.Y H:i" }}</small>
                    {% endif %}
                </div>
                {% if not task.is_completed %}
                    <a href="{% url 'task_done' task.id %}" class="btn btn-sm btn-outline-primary">Ð¡Ð´ÐµÐ»Ð°Ð½Ð¾</a>
                {% else %}
                    <span class="badge bg-success">âœ” Ð’Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾</span>
                {% endif %}
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>Ð—Ð°Ð´Ð°Ñ‡ Ð¿Ð¾ÐºÐ° Ð½ÐµÑ‚ ðŸ™ƒ</p>
{% endif %}
{% endblock %}
